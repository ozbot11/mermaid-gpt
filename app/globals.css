@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --editor-bg: #1e1e1e;
  --panel-bg: #0f172a;
}

html[data-theme="light"] {
  --editor-bg: #ffffff;
  --panel-bg: #f1f5f9;
}

body {
  @apply bg-surface-950 text-slate-200 antialiased;
}

/* Light theme overrides – ensure readable contrast */
html[data-theme="light"] body {
  @apply bg-slate-100 text-slate-900;
}

html[data-theme="light"] .bg-surface-950 {
  @apply bg-slate-100;
}

html[data-theme="light"] .bg-surface-900 {
  @apply bg-white;
}

html[data-theme="light"] .bg-surface-800 {
  @apply bg-slate-100;
}

/* Primary text – dark enough on light backgrounds */
html[data-theme="light"] .text-slate-100,
html[data-theme="light"] .text-slate-200,
html[data-theme="light"] .text-slate-300 {
  @apply text-slate-900;
}

html[data-theme="light"] .text-slate-400,
html[data-theme="light"] .text-slate-500 {
  @apply text-slate-700;
}

/* Hover text – stay readable */
html[data-theme="light"] .hover\:text-slate-100:hover,
html[data-theme="light"] .hover\:text-slate-200:hover,
html[data-theme="light"] .hover\:text-slate-300:hover,
html[data-theme="light"] .hover\:text-slate-400:hover {
  @apply text-slate-900;
}

html[data-theme="light"] .hover\:text-white:hover {
  @apply text-slate-900;
}

/* Accent text – sky/blue need darker shade in light mode */
html[data-theme="light"] .text-sky-300,
html[data-theme="light"] .text-sky-400 {
  @apply text-sky-700;
}

/* Borders */
html[data-theme="light"] .border-slate-700,
html[data-theme="light"] .border-slate-600,
html[data-theme="light"] .border-slate-800 {
  @apply border-slate-300;
}

html[data-theme="light"] .border-slate-700\/50,
html[data-theme="light"] .border-slate-700\/60,
html[data-theme="light"] .border-slate-700\/70 {
  @apply border-slate-300;
}

/* Backgrounds for buttons/cards */
html[data-theme="light"] .bg-slate-800\/80,
html[data-theme="light"] .bg-slate-700\/80,
html[data-theme="light"] .bg-slate-900\/90,
html[data-theme="light"] .bg-slate-900\/80,
html[data-theme="light"] .bg-slate-900\/95 {
  @apply bg-slate-100;
}

html[data-theme="light"] .bg-slate-700\/50 {
  @apply bg-slate-200;
}

html[data-theme="light"] .bg-slate-800\/60,
html[data-theme="light"] .bg-slate-800\/50 {
  @apply bg-slate-100;
}

html[data-theme="light"] .hover\:bg-slate-700:hover,
html[data-theme="light"] .hover\:bg-slate-600:hover {
  @apply bg-slate-300;
}

html[data-theme="light"] .hover\:bg-surface-700\/80:hover,
html[data-theme="light"] .hover\:bg-surface-800\/80:hover {
  @apply bg-slate-200;
}

html[data-theme="light"] .ring-offset-surface-900 {
  @apply ring-offset-slate-100;
}

html[data-theme="light"] .editor-panel-bg {
  background: var(--editor-bg);
}

/* Inputs and form controls – dark text on light bg */
html[data-theme="light"] input,
html[data-theme="light"] textarea,
html[data-theme="light"] [role="textbox"] {
  @apply text-slate-900 bg-white border-slate-300;
}

html[data-theme="light"] ::placeholder {
  @apply text-slate-500;
}

/* Decoration / underline */
html[data-theme="light"] .decoration-slate-600 {
  @apply decoration-slate-500;
}

html[data-theme="light"] .hover\:decoration-sky-500:hover {
  @apply decoration-sky-600;
}

/* Red / amber accents – darker in light mode for contrast */
html[data-theme="light"] .text-red-400,
html[data-theme="light"] .hover\:text-red-300:hover {
  @apply text-red-600;
}

html[data-theme="light"] .text-amber-400 {
  @apply text-amber-600;
}

/* Monaco overrides for dark theme */
.monaco-editor {
  padding-top: 8px;
}

.monaco-editor .margin {
  background: var(--editor-bg) !important;
}

/* Smooth scroll for message list */
.scroll-smooth {
  scroll-behavior: smooth;
}

/* Focus visible for keyboard users */
button:focus-visible,
select:focus-visible,
input:focus-visible,
textarea:focus-visible {
  @apply outline-none ring-2 ring-sky-500/50 ring-offset-2 ring-offset-surface-900;
}
